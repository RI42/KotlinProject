import kotlinx.coroutines.*
import kotlinx.coroutines.flow.Flow
import kotlinx.coroutines.flow.flow
import kotlinx.coroutines.selects.select
import kotlinx.coroutines.selects.selectUnbiased
import kotlin.reflect.KClass

//
//val m = Mutex()
//val sf = MutableSharedFlow<Event>(0, 10)
//val stf = MutableStateFlow<Event>(Event.Idle())

//sealed interface Event {
//    class Idle : Event
//    class PlayPause : Event
//    class Stop : Event
//}

suspend fun main() {
//    stf.update {
//        delay(1000)
//        Event.Stop()
//    }
//    m.withLock {
//        val (head, tail) = sf.replayCache.let { it.first() to it.subList(1, it.size) }
//
//    }

}
